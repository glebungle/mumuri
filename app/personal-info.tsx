import { Ionicons } from '@expo/vector-icons';
import { router } from 'expo-router';
import React from 'react';
import { Pressable, ScrollView, StyleSheet, View } from 'react-native';
import { useSafeAreaInsets } from 'react-native-safe-area-context';
import AppText from '../components/AppText';

const TERMS_TEXT = `커플 미션 앱 서비스 이용약관

Ver 25.10.21

주식회사 GROWDY(이하 "그로우디")는 「개인정보 보호법」, 「정보통신망 이용촉진 및 정보보호 등에 관한 법률」, 「위치정보의 보호 및 이용 등에 관한 법률」 등 관련 법령을 준수하며, 이용자의 개인정보 보호에 최선을 다하고 있습니다.

본 개인정보처리방침은 그로우디가 제공하는 커플 사진 미션 서비스(이하 "서비스")에 적용됩니다.

1. 수집하는 개인정보의 항목 및 수집방법

1.1 수집하는 개인정보 항목

(1) 회원가입 시 수집 항목
필수항목
- 휴대전화번호 또는 이메일 주소
- 비밀번호 (암호화 저장)
- 닉네임
- 프로필 사진 (선택)
- 연인 연결 정보 (커플 ID)

선택항목
- 생년월일
- 기념일 정보
- 관심사/취향 정보

(2) 서비스 이용 과정에서 수집되는 정보
자동 수집 정보
- 서비스 이용기록 (접속 로그, 미션 완료 이력)
- 기기정보 (OS 종류 및 버전, 기기 고유식별번호, 광고 식별자)
- IP 주소, 쿠키, 접속 일시

위치정보 (이용자 동의 시)
- GPS 기반 위치정보
- Wi-Fi 기반 위치정보
- 통신사 기지국 기반 위치정보
- 자주 방문하는 장소 정보 (통계 목적)

미션 수행 관련 정보 (일시적 수집 후 폐기)
- 업로드된 사진/이미지 (미션 완료 인증용)
- 미션 수행 시간 및 장소
- 미션 참여 내역

(3) 외부 서비스 연동 시 수집 정보(임시)
카카오 로그인
- 카카오 계정 정보 (이메일)
- 프로필 정보 (닉네임, 프로필 사진)
- 카카오 고유 식별자

네이버 로그인
- 네이버 계정 정보 (이메일, 이름)
- 프로필 사진

구글 로그인
- 구글 계정 정보 (이메일)
- 기본 프로필 정보

1.2 개인정보 수집방법
- 앱 설치 및 회원가입 과정
- 서비스 이용 과정에서 자동 생성 및 수집
- 외부 플랫폼 (카카오, 네이버, 구글) 계정 연동
- 고객센터 문의 및 이벤트 응모

2. 개인정보의 수집 및 이용 목적

그로우디는 다음의 목적을 위하여 개인정보를 처리합니다.

2.1 회원 관리
- 회원가입 의사 확인 및 본인 식별·인증
- 회원자격 유지·관리
- 서비스 부정이용 방지
- 각종 고지·통지

2.2 서비스 제공
- 커플 매칭 및 연결 서비스
- 일일 사진 미션 제공 및 추천
- AI 기반 개인화 미션 큐레이션
- 미션 완료 인증 및 히스토리 관리
- 커플 활동 통계 및 분석 제공
- 커플 갤러리 및 추억 아카이브 기능

2.3 위치기반 서비스 제공
- 위치 기반 미션 추천 (특정 장소 방문 미션)
- 자주 방문하는 데이트 장소 분석
- 주변 맛집/카페 추천
- 지역별 이벤트 정보 제공

2.4 서비스 개선 및 개발
- 신규 서비스 개발 및 맞춤 서비스 제공
- 이용자 행태 분석 및 통계 작성
- AI 추천 알고리즘 개선
- 서비스 품질 향상

2.5 마케팅 및 광고 활용 (선택 동의 시)
- 이벤트 및 프로모션 정보 제공
- 맞춤형 광고 제공
- 제휴 서비스 안내

3. 개인정보의 보유 및 이용기간

3.1 원칙
그로우디는 개인정보 수집 및 이용 목적이 달성된 후에는 해당 정보를 지체 없이 파기합니다.

3.2 구체적 보유기간
회원정보
- 회원 탈퇴 시까지 (단, 관련 법령에 따라 일부 정보는 아래 기간 동안 보관)

미션 수행 이미지
- 업로드 즉시 인증 처리 후 서버에서 즉시 삭제
- 이용자가 갤러리에 저장한 이미지: 이용자 삭제 또는 회원 탈퇴 시까지

위치정보
- 서비스 제공 목적 달성 즉시 삭제
- 통계 목적의 가명처리된 위치 데이터: 1년

서비스 이용기록
- 통신비밀보호법: 3개월
- 전자상거래법: 5년 (계약·청약철회 기록, 대금결제 기록)

3.3 법령에 따른 보존
전자상거래 등에서의 소비자보호에 관한 법률
- 계약 또는 청약철회 등에 관한 기록: 5년
- 대금결제 및 재화 등의 공급에 관한 기록: 5년
- 소비자 불만 또는 분쟁처리에 관한 기록: 3년

통신비밀보호법
- 서비스 이용 관련 로그 기록: 3개월

위치정보의 보호 및 이용 등에 관한 법률
- 개인위치정보 수집·이용·제공 사실 확인자료: 6개월

4. 개인정보의 제3자 제공
그로우디는 원칙적으로 이용자의 개인정보를 제3자에게 제공하지 않습니다. 다만, 다음의 경우는 예외로 합니다.

4.1 이용자의 사전 동의를 받은 경우

제휴 서비스 제공
그로우디는 이용자가 명시적으로 동의한 경우에 한하여 제휴사에 개인정보를 제공합니다.

제공받는 자, 제공 목적, 제공 항목, 보유 기간 등을 사전에 고지하고 동의를 받습니다.

4.2 법령에 따라 제공이 의무화된 경우
- 수사기관의 법령에 따른 요청
- 법원의 영장에 따른 요청
- 기타 관련 법령에 의한 경우

5. 개인정보의 처리위탁
그로우디는 서비스 향상을 위해 다음과 같이 개인정보 처리업무를 위탁하고 있습니다.



수탁업체	위탁업무 내용	보유 및 이용기간
		
		
		
위탁업체는 서비스 개선에 따라 변경될 수 있으며, 변경 시 공지사항을 통해 고지합니다.

6. 이미지 처리 및 폐기 정책

6.1 이미지 수집 및 처리
- 이용자가 업로드한 미션 인증 사진은 미션 완료 확인 목적으로만 일시적으로 처리됩니다.
- 이미지는 서버에 저장되지 않으며, AI 분석 후 즉시 폐기됩니다.

6.2 이미지 저장 (선택사항)
- 이용자가 "갤러리에 저장" 기능을 선택한 경우에만 암호화하여 저장합니다.
- 저장된 이미지는 이용자가 직접 삭제하거나 회원 탈퇴 시 완전히 삭제됩니다.

6.3 이미지 분석
- 업로드된 이미지는 미션 완료 여부 확인을 위해 AI로 분석될 수 있습니다.
- 분석 결과(메타데이터)만 저장되며, 원본 이미지는 저장되지 않습니다.

7. 위치정보 수집 및 이용

7.1 위치정보 수집 목적
- 위치 기반 미션 제공
- 데이트 장소 추천
- 자주 방문하는 장소 통계

7.2 위치정보 수집 방법
- GPS, Wi-Fi, 기지국 정보
- 이용자의 명시적 동의 후 수집

7.3 위치정보 보유 및 이용기간
- 서비스 제공 목적 달성 즉시 삭제
- 통계 목적의 가명처리 데이터: 1년

7.4 위치정보 수집·이용 거부
- 이용자는 언제든지 위치정보 수집을 거부할 수 있습니다.
- 다만, 일부 위치 기반 미션은 이용이 제한될 수 있습니다.

8. 개인정보의 파기

8.1 파기절차
- 이용자의 개인정보는 목적 달성 후 내부 방침 및 법령에 따라 일정 기간 저장 후 파기됩니다.
- 법령에 따라 보관이 필요한 경우를 제외하고는 즉시 파기됩니다.

8.2 파기방법
- 전자적 파일: 복구 불가능한 방법으로 영구 삭제
- 종이 문서: 분쇄기로 분쇄 또는 소각

9. 이용자 및 법정대리인의 권리

9.1 권리 행사
이용자는 언제든지 다음의 권리를 행사할 수 있습니다.
- 개인정보 열람 요구
- 개인정보 정정·삭제 요구
- 개인정보 처리정지 요구
- 개인정보 이동 요구

9.2 권리 행사 방법
- 앱 내 "설정 > 개인정보 관리"
- 고객센터 (이메일: jamie462000@gmail.com; 임시로 적어놨습니다)
- 유선 (전화번호: 02-XXXX-XXXX)

10. 개인정보 자동 수집 장치

10.1 쿠키 등 사용
그로우디는 맞춤형 서비스 제공을 위해 쿠키를 사용할 수 있습니다.

10.2 쿠키 거부 방법
- 모바일 기기: 설정 > 개인정보 보호 > 광고 추적 제한

11. 개인정보 보호책임자

개인정보 보호책임자
- 성명: 이현규
- 직책: ?
- 이메일: jamie462000@gmail.com
- 전화: 02-XXXX-XXXX

개인정보 보호 담당부서
- 부서명: 개인정보보호팀
- 이메일: jamie462000@gmail.com

12. 개인정보처리방침 변경

본 개인정보처리방침은 법령·정책 또는 보안기술의 변경에 따라 내용이 추가·삭제·수정될 수 있습니다.

개정 시 최소 7일 전부터 앱 내 공지사항을 통해 고지하며, 중요한 내용 변경 시에는 30일 전 고지합니다.

공고일자: 
시행일자: 

`;

export default function PersonalInfoScreen() {
  const insets = useSafeAreaInsets();
  
  const handleBack = () => router.back();

  return (
    <View style={[styles.container, { paddingTop: insets.top }]}>
      {/* 헤더 */}
      <View style={styles.header}>
        <Pressable onPress={handleBack} style={styles.backButton}>
          <Ionicons name="chevron-back" size={24} color="#1E1E1E" />
        </Pressable>
        <AppText style={styles.headerTitle}>무무리 개인정보 처리방침</AppText>
        <View style={{ width: 24 }} />
      </View>

      {/* 본문 (스크롤 박스) */}
      <View style={styles.content}>
        <View style={styles.termsBox}>
          <ScrollView 
            contentContainerStyle={styles.scrollContent}
            indicatorStyle="black" // iOS 스크롤바 색상
            showsVerticalScrollIndicator={true}
          >
            <AppText type='pretendard-m' style={styles.termsText}>
              {TERMS_TEXT}
            </AppText>
          </ScrollView>
        </View>
      </View>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#FFF',
  },
  header: {
    flexDirection: 'row',
    alignItems: 'center',
    justifyContent: 'space-between',
    paddingHorizontal: 20,
    paddingVertical: 14,
    backgroundColor: '#FFF',
    borderBottomWidth: 1,
    borderBottomColor: '#F2F2F2', 
  },
  backButton: {
    padding: 4,
  },
  headerTitle: {
    fontSize: 18,
    color: '#444444',
  },
  content: {
    flex: 1,
    padding: 20, 
  },
  termsBox: {
    flex: 1,
    backgroundColor: '#F8F9FA', // 박스 배경색 (연한 회색)
    borderRadius: 12,
    borderWidth: 1,
    borderColor: '#E3E7EB',
    overflow: 'hidden', // 둥근 모서리 안으로 내용 자르기
  },
  scrollContent: {
    padding: 20,
  },
  termsText: {
    fontSize: 12,
    lineHeight: 24, // 가독성을 위한 줄 간격
    color: '#555555',
  },
});